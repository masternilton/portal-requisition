import"../chunks/DsnmJJEf.js";import"../chunks/BV3hjmsP.js";import{ac as dt,p as N,f as M,d as r,s as o,r as s,t as T,e as v,aF as k,b as C,c as Q,i as ut,l as I,k as pt,a as vt,m as u,u as p,av as ft,j as a,n as _,o as gt}from"../chunks/DvkHFTiD.js";import{i as O}from"../chunks/DqyTZu-Q.js";import{e as mt,i as bt}from"../chunks/kJaQhxva.js";import{a as xt,e as ht}from"../chunks/XG95yxdz.js";import{i as U}from"../chunks/hyV0Bv3U.js";import{g as yt}from"../chunks/BAnWHYzw.js";import{p as S}from"../chunks/CX4bFslJ.js";import{s as _t,t as wt,f as kt,a as St,S as Ct}from"../chunks/B724axDh.js";import{p as J}from"../chunks/CcHaSuRL.js";function Mt(f,n){var t=f.$$events?.[n.type],g=dt(t)?t.slice():t==null?[]:[t];for(var i of g)i.call(this,n)}function K(f){const n=new Date(f),t=String(n.getFullYear()).slice(-2),g=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0"),c=String(n.getHours()).padStart(2,"0"),d=String(n.getMinutes()).padStart(2,"0"),m=String(n.getSeconds()).padStart(2,"0");return`${t}${g}${i}${c}${d}${m}`}var jt=M('<div class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4" role="alertdialog" aria-modal="true" aria-labelledby="error-title" aria-describedby="error-desc"><div class="bg-white rounded-3xl shadow-2xl w-full max-w-xs p-8 text-center animate-in slide-in-from-bottom duration-300" role="document"><div class="mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-12 h-12 text-red-600" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></div> <h3 id="error-title" class="text-2xl font-bold text-gray-900 mb-3">Error</h3> <p id="error-desc" class="text-lg text-gray-700 mb-8 leading-relaxed"> </p> <button class="w-full min-h-12 bg-red-600 hover:bg-red-700 text-white font-bold text-xl py-4 rounded-2xl active:scale-95 transition-all focus:outline-none focus:ring-4 focus:ring-red-300 focus:ring-offset-2" type="button">Cerrar</button></div></div>');function qt(f,n){N(n,!1);let t=J(n,"message",8,"Ocurrió un error"),g=J(n,"onClose",8,()=>{});function i(){g()()}U();var c=jt(),d=r(c),m=o(r(d),4),j=r(m,!0);s(m);var w=o(m,2);s(d),s(c),T(()=>v(j,t())),k("click",w,i),k("keydown",w,h=>["Enter"," "].includes(h.key)&&i()),k("click",d,_t(function(h){Mt.call(this,n,h)})),wt(3,c,()=>kt,()=>({duration:200})),k("click",c,St(i)),C(f,c),Q()}var Bt=M('<div class="grid px-4 py-2 border-b border-gray-100 hover:bg-gray-50 text-sm items-center" style="grid-template-columns: 70% 15% 15%;"><span class="truncate"> </span> <span class="text-center"> </span> <span class="text-center font-bold text-md"> </span></div>'),Et=M('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-xl shadow-xl max-w-sm w-full p-6 animate-in fade-in zoom-in duration-200"><h3 class="text-lg font-bold text-gray-900 mb-2">¿Borrar requisición?</h3> <p class="text-sm text-gray-600 mb-6">Esta acción no se puede deshacer.</p> <form method="POST" action="?/delete" class="flex gap-3"><button type="button" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 rounded-lg active:scale-95 transition">Cancelar</button> <button type="submit" class="flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 rounded-lg active:scale-95 transition">Borrar</button></form></div></div>'),$t=M('<section class="p-6 max-w-4xl mx-auto"><h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex items-center justify-end mb-2"><button class="flex items-center bg-black text-white hover:bg-gray-800 transition-colors rounded-lg px-3 py-2 mb-4 active:scale-95"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg> <span class="font-medium">Volver</span></button></div> <div class="bg-white shadow-sm rounded-xl p-4 border border-gray-200 mb-6"><p><strong>Fecha:</strong> </p> <p><strong>Solicitante:</strong> </p> <p><strong>Estado:</strong> </p></div> <div class="bg-white shadow-sm rounded-xl border border-gray-200 overflow-hidden"><div class="grid font-semibold text-gray-700 border-b border-gray-200 px-4 py-2 text-sm" style="grid-template-columns: 70% 15% 15%;"><span class="text-left">Productos solicitados</span> <span class="text-center">Capac.</span> <span class="text-center">Cant.</span></div> <!></div> <div class="mt-5"><button class="w-full bg-[#F73B3B] text-white font-semibold py-3 rounded-lg text-lg active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100">borrar</button></div></section> <!> <!> <!>',1);function At(f,n){N(n,!1);const t=_(),g=_();let i=_(!1),c=_(!1),d=_(!1);function m(){u(i,!0)}function j(){u(i,!1)}function w(){yt("/")}const h=()=>async({result:e,update:l})=>{e.type==="success"?u(c,!0):e.type==="failure"?u(d,!0):e.type==="error"&&u(d,!0),u(i,!1),l()};function W(){u(d,!1)}I(()=>S,()=>{u(t,S.data.requisition||{})}),I(()=>S,()=>{u(g,S.data.error)}),pt(),U();var H=$t(),q=vt(H),B=r(q),X=r(B);s(B);var E=o(B,2),Z=r(E);Z.__click=w,s(E);var $=o(E,2),D=r($),tt=o(r(D));s(D);var F=o(D,2),et=o(r(F));s(F);var L=o(F,2),at=o(r(L));s(L),s($);var z=o($,2),rt=o(r(z),2);mt(rt,1,()=>(a(t),p(()=>a(t).items)),bt,(e,l)=>{var x=Bt(),b=r(x),P=r(b,!0);s(b);var y=o(b,2),R=r(y,!0);s(y);var G=o(y,2),ct=r(G,!0);s(G),s(x),T(()=>{v(P,(a(l),p(()=>a(l).brand))),v(R,(a(l),p(()=>a(l).capacity))),v(ct,(a(l),p(()=>a(l).quantity)))}),C(e,x)}),s(z);var V=o(z,2),st=r(V);st.__click=m,s(V),s(q);var Y=o(q,2);{var ot=e=>{var l=Et(),x=r(l),b=o(r(x),4),P=r(b);P.__click=j,gt(2),s(b),xt(b,(y,R)=>ht?.(y,R),()=>h),s(x),s(l),C(e,l)};O(Y,e=>{a(i)&&e(ot)})}var A=o(Y,2);{var nt=e=>{Ct(e,{message:"¡Requisición borrada!",redirectTo:"/"})};O(A,e=>{a(c)&&e(nt)})}var it=o(A,2);{var lt=e=>{qt(e,{message:"¡Requisición no borrada!",onClose:W})};O(it,e=>{a(d)&&e(lt)})}T(e=>{v(X,`Requisición #${e??""}`),v(tt,` ${a(t),p(()=>a(t).fecha)??""}`),v(et,` ${a(t),p(()=>a(t).solicitante)??""}`),v(at,` ${a(t),p(()=>a(t).estado)??""}`)},[()=>(ft(K),a(t),p(()=>K(a(t)?.fecha)))]),C(f,H),Q()}ut(["click"]);export{At as component};
