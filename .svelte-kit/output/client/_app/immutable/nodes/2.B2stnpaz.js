import"../chunks/DsnmJJEf.js";import"../chunks/BV3hjmsP.js";import{o as Q}from"../chunks/maGQv20_.js";import{i as U,p as V,l as F,k as W,f as v,d as a,b as p,c as X,s as m,m as Y,n as T,r as s,j as e,u as l,t as k,e as f}from"../chunks/DvkHFTiD.js";import{i as z}from"../chunks/DqyTZu-Q.js";import{e as Z,i as q}from"../chunks/kJaQhxva.js";import{a as tt}from"../chunks/CtKQbUfn.js";import{i as et}from"../chunks/hyV0Bv3U.js";import{p as _}from"../chunks/CX4bFslJ.js";import{g as A}from"../chunks/BAnWHYzw.js";import{i as at}from"../chunks/BlYGXibV.js";function st(b){A(`/requisition/${b}`)}function rt(){A("/requisition/preview")}var ot=v(`<span class="px-3 py-1 rounded-full text-xs font-semibold border
                 bg-green-100 text-green-700 border-green-300"> </span>`),it=v(`<span class="px-3 py-1 rounded-full text-xs font-semibold border
                 bg-yellow-100 text-yellow-700 border-yellow-300"> </span>`),nt=v('<div class="bg-white rounded-xl shadow-sm border border-gray-200 transition-transform active:scale-[0.98]"><a class="block p-2 flex flex-col gap-1 cursor-pointer hover:bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-black"><div class="flex justify-between items-center"><h2 class="font-semibold text-gray-900 text-lg"> </h2> <span class="text-lg text-gray-900"><small></small> <!></span></div> <div class="flex justify-between text-md text-gray-700"><small class="font-medium"> </small> <small class="font-medium"> </small></div></a></div>'),lt=v('<div class="border-2 border-dashed border-gray-300 rounded-xl p-4 m-4 text-center"><p class="text-gray-500 text-lg font-medium">AÃºn no hay requisiciones agregadas</p></div>'),ct=v('<section class="p-6"><h1 class="text-2xl font-bold mb-4">Requisiciones</h1> <div class="flex items-center justify-end mb-2"><button class="bg-black text-white font-semibold py-2 rounded-lg text-md w-[40%] max-w-sm active:scale-95 transition-transform">+ Nueva</button></div> <div class="flex flex-col gap-4"><!> <!></div></section>');function yt(b,H){V(H,!1);const g=T(),N=T();Q(()=>{at.set([]),console.log("itemsRequisition reiniciado al entrar a /new")});function B(r){const t=new Date(r),c=String(t.getFullYear()).slice(-2),n=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0"),u=String(t.getHours()).padStart(2,"0"),S=String(t.getMinutes()).padStart(2,"0"),x=String(t.getSeconds()).padStart(2,"0");return`${c}${n}${d}${u}${S}${x}`}function C(r){const t=new Date(r),c=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),d=t.getFullYear();return`${c}/${n}/${d}`}F(()=>_,()=>{Y(g,_.data.requisitions||[])}),F(()=>_,()=>{Y(N,_.data.error)}),W(),et();var h=ct(),y=m(a(h),2),E=a(y);E.__click=function(...r){rt?.apply(this,r)},s(y);var D=m(y,2),M=a(D);Z(M,1,()=>e(g),q,(r,t)=>{var c=nt(),n=a(c);n.__click=o=>{o.preventDefault(),st(e(t).id)};var d=a(n),u=a(d),S=a(u,!0);s(u);var x=m(u,2),J=m(a(x),2);{var K=o=>{var i=ot(),$=a(i,!0);s(i),k(()=>f($,(e(t),l(()=>e(t).status?.name)))),p(o,i)},L=o=>{var i=it(),$=a(i,!0);s(i),k(()=>f($,(e(t),l(()=>e(t).status?.name)))),p(o,i)};z(J,o=>{e(t),l(()=>e(t).status?.name.includes("finalizada"))?o(K):o(L,!1)})}s(x),s(d);var j=m(d,2),w=a(j),O=a(w);s(w);var R=m(w,2),P=a(R);s(R),s(j),s(n),s(c),k((o,i)=>{tt(n,"href",(e(t),l(()=>`/requisition/${e(t).id}`))),f(S,(e(t),l(()=>e(t).description))),f(O,`#${o??""}`),f(P,`Fecha: ${i??""}`)},[()=>(e(t),l(()=>B(e(t).created_at))),()=>(e(t),l(()=>C(e(t).created_at)))]),p(r,c)});var G=m(M,2);{var I=r=>{var t=lt();p(r,t)};z(G,r=>{e(g),l(()=>e(g).length==0)&&r(I)})}s(D),s(h),p(b,h),X()}U(["click"]);export{yt as component};
